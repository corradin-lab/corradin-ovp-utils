---

title: module name here


keywords: fastai
sidebar: home_sidebar

summary: "API details."
description: "API details."
nb_path: "Untitled.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: Untitled.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">CombinedGenoPheno</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">genetic_file_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span>
    <span class="n">sample_file_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span>
        
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">init_from_OVPDataset</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span>
                             <span class="n">genetic_dataset</span><span class="p">:</span> <span class="n">OVPDataset</span><span class="o">.</span><span class="n">OVPDataset</span><span class="p">,</span>
                             <span class="n">sample_dataset</span><span class="p">:</span> <span class="n">OVPDataset</span><span class="o">.</span><span class="n">OVPDataset</span><span class="p">,</span>
                            <span class="n">rsid_list</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
                             <span class="n">chrom</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                            <span class="p">):</span>
        
        <span class="n">genetic_dict</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">process_datasets</span><span class="p">(</span><span class="n">genetic_dataset</span><span class="p">,</span> <span class="n">sample_dataset</span><span class="p">)</span>
        <span class="n">all_samples_geno_df</span> <span class="o">=</span> <span class="p">[</span><span class="n">file</span><span class="o">.</span><span class="n">get_geno_each_sample</span><span class="p">(</span><span class="n">chrom</span><span class="o">=</span><span class="n">chrom</span><span class="p">,</span> <span class="n">rsid_list</span><span class="o">=</span> <span class="n">rsid_list</span><span class="p">)</span> <span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">genetic_dict</span><span class="o">.</span><span class="n">values</span><span class="p">()]</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">all_samples_geno_df</span><span class="p">)</span>
            
        
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">process_datasets</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">genetic_dataset</span><span class="p">:</span> <span class="n">OVPDataset</span><span class="o">.</span><span class="n">OVPDataset</span><span class="p">,</span> <span class="n">sample_dataset</span><span class="p">:</span> <span class="n">OVPDataset</span><span class="o">.</span><span class="n">OVPDataset</span><span class="p">,</span> <span class="p">):</span>
        <span class="n">combine_genetic_sample_func</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_process_file_type</span><span class="p">(</span><span class="n">genetic_dataset</span><span class="o">.</span><span class="n">_file_path</span><span class="p">,</span> <span class="n">sample_dataset</span><span class="o">.</span><span class="n">_file_path</span><span class="p">)</span>
        <span class="n">genetic_dict</span> <span class="o">=</span> <span class="n">combine_genetic_sample_func</span><span class="p">(</span><span class="n">genetic_dataset</span><span class="p">,</span> <span class="n">sample_dataset</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">genetic_dict</span>
    
    <span class="nd">@typedispatch</span>    
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_process_file_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">genetic_file_schema</span><span class="p">:</span><span class="n">OVPDataset</span><span class="o">.</span><span class="n">SingleFilePathSchema</span><span class="p">,</span> <span class="n">sample_file_schema</span><span class="p">:</span> <span class="n">OVPDataset</span><span class="o">.</span><span class="n">SingleFilePathSchema</span><span class="p">):</span>
        <span class="k">return</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">:</span> <span class="n">x</span>
    
    <span class="nd">@typedispatch</span>
    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_process_file_type</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">genetic_file_schema</span><span class="p">:</span><span class="n">OVPDataset</span><span class="o">.</span><span class="n">MultipleFilePathSchema</span><span class="p">,</span> <span class="n">sample_file_schema</span><span class="p">:</span> <span class="n">OVPDataset</span><span class="o">.</span><span class="n">MultipleFilePathSchema</span><span class="p">):</span>
        <span class="k">assert</span> <span class="n">genetic_file_schema</span><span class="o">.</span><span class="vm">__class__</span> <span class="o">==</span> <span class="n">sample_file_schema</span><span class="o">.</span><span class="vm">__class__</span>
        <span class="k">def</span> <span class="nf">combine_genetic_sample_multiple</span><span class="p">(</span><span class="n">genetic_dataset</span><span class="p">,</span> <span class="n">sample_file_dataset</span><span class="p">):</span>
            <span class="n">genetic_dict</span> <span class="o">=</span> <span class="n">genetic_dataset</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="vm">__dict__</span>
            <span class="n">sample_dict</span> <span class="o">=</span> <span class="n">sample_file_dataset</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="vm">__dict__</span>
            <span class="n">shared_keys</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">genetic_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">sample_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
            
            <span class="c1">#make sure the two datasets only have shared keys</span>
            <span class="k">assert</span> <span class="n">shared_keys</span> <span class="o">==</span> <span class="n">genetic_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">==</span> <span class="n">sample_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">shared_keys</span><span class="p">:</span>
                <span class="n">genetic_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">sample_ids</span> <span class="o">=</span> <span class="n">sample_dict</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">load</span><span class="p">()</span><span class="o">.</span><span class="n">index</span>
            <span class="k">return</span> <span class="n">genetic_dict</span>
        
        <span class="k">return</span> <span class="n">combine_genetic_sample_multiple</span>
                
    <span class="k">class</span> <span class="nc">Config</span><span class="p">:</span>
        <span class="n">arbitrary_types_allowed</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">genetic_file</span> <span class="o">=</span> <span class="n">test_data_catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;genetic_file&quot;</span><span class="p">)</span>
<span class="n">sample_file</span> <span class="o">=</span> <span class="n">test_data_catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;sample_file&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">CombinedGenoPheno</span><span class="o">.</span><span class="n">init_from_OVPDataset</span><span class="p">(</span><span class="n">genetic_file</span><span class="p">,</span> <span class="n">sample_file</span><span class="p">,</span> <span class="n">rsid_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">,</span> <span class="s2">&quot;rs9610458&quot;</span><span class="p">,</span> <span class="s2">&quot;rs134490&quot;</span><span class="p">,</span> <span class="s2">&quot;rs5756405&quot;</span><span class="p">])</span><span class="c1">#[&quot;case&quot;]</span>
<span class="n">test</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>rsid</th>
      <th>rs77948203</th>
      <th>rs9610458</th>
      <th>rs134490</th>
      <th>rs5756405</th>
    </tr>
    <tr>
      <th>sample_id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>WTCCCT473540</th>
      <td>GG</td>
      <td>TT</td>
      <td>NA</td>
      <td>AG</td>
    </tr>
    <tr>
      <th>WTCCCT473530</th>
      <td>GG</td>
      <td>TT</td>
      <td>TT</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>WTCCCT473555</th>
      <td>GG</td>
      <td>TT</td>
      <td>TT</td>
      <td>NA</td>
    </tr>
    <tr>
      <th>WTCCCT473426</th>
      <td>GG</td>
      <td>TT</td>
      <td>TT</td>
      <td>GG</td>
    </tr>
    <tr>
      <th>WTCCCT473489</th>
      <td>GG</td>
      <td>CT</td>
      <td>NA</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>WS574632</th>
      <td>GG</td>
      <td>CT</td>
      <td>TT</td>
      <td>GG</td>
    </tr>
    <tr>
      <th>WS574661</th>
      <td>GG</td>
      <td>TT</td>
      <td>TT</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>BLOOD294452</th>
      <td>GG</td>
      <td>CT</td>
      <td>TT</td>
      <td>AG</td>
    </tr>
    <tr>
      <th>WTCCCT511021</th>
      <td>GG</td>
      <td>CT</td>
      <td>TT</td>
      <td>AG</td>
    </tr>
    <tr>
      <th>WTCCCT510948</th>
      <td>GG</td>
      <td>CT</td>
      <td>TT</td>
      <td>AA</td>
    </tr>
  </tbody>
</table>
<p>14947 rows × 4 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">rsid_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;rs9610458&quot;</span><span class="p">,</span> <span class="s2">&quot;rs134490&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs9610458</th>
      <th>rs134490</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CC</td>
      <td>CC</td>
      <td>[WTCCCT489620, WTCCCT489645, WTCCCT473287, WTC...</td>
      <td>76</td>
    </tr>
    <tr>
      <th>1</th>
      <td>CC</td>
      <td>CT</td>
      <td>[WTCCCT473552, WTCCCT473505, WTCCCT489578, WTC...</td>
      <td>724</td>
    </tr>
    <tr>
      <th>2</th>
      <td>CC</td>
      <td>NA</td>
      <td>[WTCCCT489646, WTCCCT489580, WTCCCT488814, WTC...</td>
      <td>381</td>
    </tr>
    <tr>
      <th>3</th>
      <td>CC</td>
      <td>TT</td>
      <td>[WTCCCT473500, WTCCCT473539, WTCCCT473521, WTC...</td>
      <td>1791</td>
    </tr>
    <tr>
      <th>4</th>
      <td>CT</td>
      <td>CC</td>
      <td>[WTCCCT473297, WTCCCT473230, WTCCCT473244, WTC...</td>
      <td>191</td>
    </tr>
    <tr>
      <th>5</th>
      <td>CT</td>
      <td>CT</td>
      <td>[WTCCCT473447, WTCCCT473466, WTCCCT473492, WTC...</td>
      <td>1733</td>
    </tr>
    <tr>
      <th>6</th>
      <td>CT</td>
      <td>NA</td>
      <td>[WTCCCT473489, WTCCCT473524, WTCCCT473499, WTC...</td>
      <td>959</td>
    </tr>
    <tr>
      <th>7</th>
      <td>CT</td>
      <td>TT</td>
      <td>[WTCCCT473456, WTCCCT473515, WTCCCT473508, WTC...</td>
      <td>4226</td>
    </tr>
    <tr>
      <th>8</th>
      <td>NA</td>
      <td>CC</td>
      <td>[WTCCCT473436, WTCCCT469571, WTCCCT443738, WTC...</td>
      <td>5</td>
    </tr>
    <tr>
      <th>9</th>
      <td>NA</td>
      <td>CT</td>
      <td>[WTCCCT488883, WTCCCT474387, WTCCCT474448, WTC...</td>
      <td>111</td>
    </tr>
    <tr>
      <th>10</th>
      <td>NA</td>
      <td>NA</td>
      <td>[WTCCCT489613, WTCCCT497565, WTCCCT474593, WTC...</td>
      <td>69</td>
    </tr>
    <tr>
      <th>11</th>
      <td>NA</td>
      <td>TT</td>
      <td>[WTCCCT473549, WTCCCT489615, WTCCCT489614, WTC...</td>
      <td>301</td>
    </tr>
    <tr>
      <th>12</th>
      <td>TT</td>
      <td>CC</td>
      <td>[WTCCCT489604, WTCCCT467785, WTCCCT489030, WTC...</td>
      <td>102</td>
    </tr>
    <tr>
      <th>13</th>
      <td>TT</td>
      <td>CT</td>
      <td>[WTCCCT473454, WTCCCT489616, WTCCCT489608, WTC...</td>
      <td>1022</td>
    </tr>
    <tr>
      <th>14</th>
      <td>TT</td>
      <td>NA</td>
      <td>[WTCCCT473540, WTCCCT473497, WTCCCT473520, WTC...</td>
      <td>634</td>
    </tr>
    <tr>
      <th>15</th>
      <td>TT</td>
      <td>TT</td>
      <td>[WTCCCT473530, WTCCCT473555, WTCCCT473426, WTC...</td>
      <td>2622</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">test</span><span class="p">,</span> <span class="n">rsid_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;rs9610458&quot;</span><span class="p">,</span> <span class="s2">&quot;rs134490&quot;</span><span class="p">,</span> <span class="s2">&quot;rs5756405&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs9610458</th>
      <th>rs134490</th>
      <th>rs5756405</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CC</td>
      <td>CC</td>
      <td>AA</td>
      <td>[WTCCCT489620, WTCCCT505862, WTCCCT467112, WTC...</td>
      <td>13</td>
    </tr>
    <tr>
      <th>1</th>
      <td>CC</td>
      <td>CC</td>
      <td>AG</td>
      <td>[WTCCCT489645, WTCCCT473287, WTCCCT470000, WTC...</td>
      <td>29</td>
    </tr>
    <tr>
      <th>2</th>
      <td>CC</td>
      <td>CC</td>
      <td>GG</td>
      <td>[WTCCCT474572, WTCCCT466155, WTCCCT508245, WTC...</td>
      <td>33</td>
    </tr>
    <tr>
      <th>3</th>
      <td>CC</td>
      <td>CC</td>
      <td>NA</td>
      <td>[WTCCCT473042]</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>CC</td>
      <td>CT</td>
      <td>AA</td>
      <td>[WTCCCT473505, WTCCCT507950, WTCCCT507923, WTC...</td>
      <td>156</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>58</th>
      <td>TT</td>
      <td>NA</td>
      <td>NA</td>
      <td>[WTCCCT515370, WTCCCT467086, WTCCCT508785, WTC...</td>
      <td>15</td>
    </tr>
    <tr>
      <th>59</th>
      <td>TT</td>
      <td>TT</td>
      <td>AA</td>
      <td>[WTCCCT473530, WTCCCT473468, WTCCCT473462, WTC...</td>
      <td>628</td>
    </tr>
    <tr>
      <th>60</th>
      <td>TT</td>
      <td>TT</td>
      <td>AG</td>
      <td>[WTCCCT473435, WTCCCT473522, WTCCCT473537, WTC...</td>
      <td>1266</td>
    </tr>
    <tr>
      <th>61</th>
      <td>TT</td>
      <td>TT</td>
      <td>GG</td>
      <td>[WTCCCT473426, WTCCCT473527, WTCCCT489641, WTC...</td>
      <td>668</td>
    </tr>
    <tr>
      <th>62</th>
      <td>TT</td>
      <td>TT</td>
      <td>NA</td>
      <td>[WTCCCT473555, WTCCCT473227, WTCCCT468253, WTC...</td>
      <td>60</td>
    </tr>
  </tbody>
</table>
<p>63 rows × 5 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_file</span> <span class="o">=</span> <span class="n">CombinedGenoPheno</span><span class="o">.</span><span class="n">process_datasets</span><span class="p">(</span><span class="n">genetic_file</span><span class="p">,</span> <span class="n">sample_file</span><span class="p">)[</span><span class="s2">&quot;case&quot;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">genetic_file_split_by_chrom</span> <span class="o">=</span> <span class="n">test_data_catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;genetic_file_split_by_chrom&quot;</span><span class="p">)</span>
<span class="n">genetic_file_split_by_chrom</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;nbdev_tutorial.datasets.OVPDataset.OVPDataset at 0x7fe38198fd00&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span> <span class="o">=</span> <span class="n">CombinedGenoPheno</span><span class="o">.</span><span class="n">init_from_OVPDataset</span><span class="p">(</span><span class="n">genetic_file_split_by_chrom</span><span class="p">,</span> <span class="n">sample_file</span><span class="p">,</span> <span class="n">chrom</span><span class="o">=</span><span class="mi">22</span><span class="p">,</span> <span class="n">rsid_list</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">,</span> <span class="s2">&quot;rs9610458&quot;</span><span class="p">])</span><span class="c1">#[&quot;case&quot;]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;function CombinedGenoPheno._process_file_type.&lt;locals&gt;.combine_genetic_sample_multiple at 0x7fe390909d30&gt;
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>rsid</th>
      <th>rs77948203</th>
      <th>rs9610458</th>
    </tr>
    <tr>
      <th>sample_id</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>WTCCCT473540</th>
      <td>GG</td>
      <td>TT</td>
    </tr>
    <tr>
      <th>WTCCCT473530</th>
      <td>GG</td>
      <td>TT</td>
    </tr>
    <tr>
      <th>WTCCCT473555</th>
      <td>GG</td>
      <td>TT</td>
    </tr>
    <tr>
      <th>WTCCCT473426</th>
      <td>GG</td>
      <td>TT</td>
    </tr>
    <tr>
      <th>WTCCCT473489</th>
      <td>GG</td>
      <td>CT</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>WS574632</th>
      <td>GG</td>
      <td>CT</td>
    </tr>
    <tr>
      <th>WS574661</th>
      <td>GG</td>
      <td>TT</td>
    </tr>
    <tr>
      <th>BLOOD294452</th>
      <td>GG</td>
      <td>CT</td>
    </tr>
    <tr>
      <th>WTCCCT511021</th>
      <td>GG</td>
      <td>CT</td>
    </tr>
    <tr>
      <th>WTCCCT510948</th>
      <td>GG</td>
      <td>CT</td>
    </tr>
  </tbody>
</table>
<p>14947 rows × 2 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">genetic_file_split_by_chrom</span> <span class="o">=</span> <span class="n">test_data_catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;genetic_file_split_by_chrom&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;nbdev_tutorial.datasets.OVPDataset.OVPDataset at 0x7fdf702f4d60&gt;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">genetic_file_single</span> <span class="o">=</span> <span class="n">test_data_catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;genetic_file_single&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sample_file</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>dict_items([(&#39;case&#39;, SampleFileFormat(filepath=Path(&#39;data/test_data/sample_file/MS_impute2_ALL_sample_out.tsv&#39;), pandas_args={&#39;sep&#39;: &#39; &#39;, &#39;skiprows&#39;: [1]}, sample_id_col=&#39;ID_2&#39;, cov_cols=[&#39;sex&#39;], missing_col=&#39;missing&#39;)), (&#39;control&#39;, SampleFileFormat(filepath=Path(&#39;data/test_data/sample_file/ALL_controls_58C_NBS_WTC2_impute2_sample_out.tsv&#39;), pandas_args={&#39;sep&#39;: &#39; &#39;, &#39;skiprows&#39;: [1]}, sample_id_col=&#39;ID_2&#39;, cov_cols=[&#39;sex&#39;], missing_col=&#39;missing&#39;))])</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="nb">set</span><span class="p">(</span><span class="n">genetic_file</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">sample_file</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;case&#39;, &#39;control&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">vars</span><span class="p">(</span><span class="n">genetic_file</span><span class="o">.</span><span class="n">files</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;case&#39;: SampleFileFormat(filepath=Path(&#39;data/test_data/sample_file/MS_impute2_ALL_sample_out.tsv&#39;), pandas_args={&#39;sep&#39;: &#39; &#39;, &#39;skiprows&#39;: [1]}, sample_id_col=&#39;ID_2&#39;, cov_cols=[&#39;sex&#39;], missing_col=&#39;missing&#39;),
 &#39;control&#39;: SampleFileFormat(filepath=Path(&#39;data/test_data/sample_file/ALL_controls_58C_NBS_WTC2_impute2_sample_out.tsv&#39;), pandas_args={&#39;sep&#39;: &#39; &#39;, &#39;skiprows&#39;: [1]}, sample_id_col=&#39;ID_2&#39;, cov_cols=[&#39;sex&#39;], missing_col=&#39;missing&#39;)}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">vars</span><span class="p">(</span><span class="n">sample_file</span><span class="o">.</span><span class="n">files</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;case&#39;: SampleFileFormat(filepath=Path(&#39;data/test_data/sample_file/MS_impute2_ALL_sample_out.tsv&#39;), pandas_args={&#39;sep&#39;: &#39; &#39;, &#39;skiprows&#39;: [1]}, sample_id_col=&#39;ID_2&#39;, cov_cols=[&#39;sex&#39;], missing_col=&#39;missing&#39;),
 &#39;control&#39;: SampleFileFormat(filepath=Path(&#39;data/test_data/sample_file/ALL_controls_58C_NBS_WTC2_impute2_sample_out.tsv&#39;), pandas_args={&#39;sep&#39;: &#39; &#39;, &#39;skiprows&#39;: [1]}, sample_id_col=&#39;ID_2&#39;, cov_cols=[&#39;sex&#39;], missing_col=&#39;missing&#39;)}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

