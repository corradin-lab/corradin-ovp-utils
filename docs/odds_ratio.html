---

title: module name here


keywords: fastai
sidebar: home_sidebar

summary: "API details."
description: "API details."
nb_path: "04_odds_ratio.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 04_odds_ratio.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">geno_each_sample</span> <span class="o">=</span> <span class="n">test_data_catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;geno_each_sample&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">geno_each_sample</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs77948203</th>
      <th>rs1014626</th>
      <th>rs9610458</th>
      <th>rs5762201</th>
      <th>rs1004237</th>
      <th>rs134490</th>
      <th>rs4821519</th>
      <th>rs1003500</th>
      <th>rs5756405</th>
    </tr>
    <tr>
      <th>sample_id</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>sample1</th>
      <td>GG</td>
      <td>TT</td>
      <td>TT</td>
      <td>GG</td>
      <td>CC</td>
      <td>NaN</td>
      <td>GG</td>
      <td>CC</td>
      <td>AG</td>
    </tr>
    <tr>
      <th>sample10</th>
      <td>GG</td>
      <td>TT</td>
      <td>TT</td>
      <td>GG</td>
      <td>CC</td>
      <td>TT</td>
      <td>GG</td>
      <td>CC</td>
      <td>AG</td>
    </tr>
    <tr>
      <th>sample100</th>
      <td>GG</td>
      <td>TT</td>
      <td>TT</td>
      <td>GG</td>
      <td>CC</td>
      <td>TT</td>
      <td>GG</td>
      <td>CC</td>
      <td>AG</td>
    </tr>
    <tr>
      <th>sample1000</th>
      <td>AG</td>
      <td>TT</td>
      <td>CT</td>
      <td>GG</td>
      <td>CC</td>
      <td>CT</td>
      <td>GG</td>
      <td>CC</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>sample1001</th>
      <td>GG</td>
      <td>TT</td>
      <td>TT</td>
      <td>GG</td>
      <td>CC</td>
      <td>CT</td>
      <td>CG</td>
      <td>CC</td>
      <td>AG</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>sample995</th>
      <td>GG</td>
      <td>TT</td>
      <td>CT</td>
      <td>GG</td>
      <td>CC</td>
      <td>CT</td>
      <td>CC</td>
      <td>CC</td>
      <td>AG</td>
    </tr>
    <tr>
      <th>sample996</th>
      <td>GG</td>
      <td>TT</td>
      <td>CT</td>
      <td>GG</td>
      <td>CC</td>
      <td>TT</td>
      <td>GG</td>
      <td>CC</td>
      <td>AG</td>
    </tr>
    <tr>
      <th>sample997</th>
      <td>GG</td>
      <td>TT</td>
      <td>CT</td>
      <td>AG</td>
      <td>CC</td>
      <td>TT</td>
      <td>GG</td>
      <td>CC</td>
      <td>AG</td>
    </tr>
    <tr>
      <th>sample998</th>
      <td>GG</td>
      <td>TT</td>
      <td>CT</td>
      <td>GG</td>
      <td>CC</td>
      <td>TT</td>
      <td>GG</td>
      <td>CC</td>
      <td>AA</td>
    </tr>
    <tr>
      <th>sample999</th>
      <td>GG</td>
      <td>TT</td>
      <td>CT</td>
      <td>AG</td>
      <td>CC</td>
      <td>TT</td>
      <td>GG</td>
      <td>CC</td>
      <td>AG</td>
    </tr>
  </tbody>
</table>
<p>9772 rows Ã— 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="RsidComboInfo" class="doc_header"><code>class</code> <code>RsidComboInfo</code><a href="https://github.com/hoangthienan95/corradin_ovp_utils/tree/master/corradin_ovp_utils/odds_ratio.py#L13" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>RsidComboInfo</code>(<strong><code>df</code></strong>:<code>DataFrame</code>, <strong><code>rsid_list</code></strong>:<code>List</code>[<code>str</code>], <strong><code>NA_val</code></strong>:<code>str</code>)</p>
</blockquote>
<p>RsidComboInfo(df: pandas.core.frame.DataFrame, rsid_list: List[str], NA_val: str)</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="get_geno_combination_df" class="doc_header"><code>get_geno_combination_df</code><a href="https://github.com/hoangthienan95/corradin_ovp_utils/tree/master/corradin_ovp_utils/odds_ratio.py#L43" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>get_geno_combination_df</code>(<strong><code>geno_each_sample_df</code></strong>:<code>DataFrame</code>, <strong><code>rsid_list</code></strong>:<code>List</code>[<code>str</code>], <strong><code>NA_val</code></strong>=<em><code>'NA'</code></em>, <strong><code>as_df</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_rsid_info_obj</span> <span class="o">=</span> <span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">])</span>
<span class="n">test_rsid_info_obj</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;class &#39;__main__.RsidComboInfo&#39;&gt;(rsid_list = [&#39;rs77948203&#39;], NA_val = &#39;NA&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_rsid_info_obj</span><span class="o">.</span><span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs77948203</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AA</td>
      <td>[sample1445, sample1545, sample2271, sample237...</td>
      <td>46</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AG</td>
      <td>[sample1000, sample1002, sample1025, sample102...</td>
      <td>1227</td>
    </tr>
    <tr>
      <th>2</th>
      <td>GG</td>
      <td>[sample1, sample10, sample100, sample1001, sam...</td>
      <td>8499</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">test_rsid_info_obj</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;NA&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">)[</span><span class="s2">&quot;sample_id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;unique_samples_id&quot;</span><span class="p">:</span><span class="s2">&quot;unique&quot;</span><span class="p">,</span> <span class="s2">&quot;unique_samples_count&quot;</span><span class="p">:</span> <span class="s2">&quot;nunique&quot;</span><span class="p">})</span><span class="o">.</span><span class="n">reset_index</span><span class="p">())</span>
<span class="k">assert</span> <span class="n">test_rsid_info_obj</span><span class="o">.</span><span class="n">rsid_list</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;rs77948203&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">rs77948203</span><span class="o">=</span><span class="s1">&#39;AA&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs77948203</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AA</td>
      <td>[sample1445, sample1545, sample2271, sample237...</td>
      <td>46</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">,</span> <span class="s2">&quot;rs1014626&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs77948203</th>
      <th>rs1014626</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AA</td>
      <td>TT</td>
      <td>[sample1445, sample1545, sample2271, sample237...</td>
      <td>46</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AG</td>
      <td>CT</td>
      <td>[sample5663, sample5840]</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AG</td>
      <td>NA</td>
      <td>[sample297]</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AG</td>
      <td>TT</td>
      <td>[sample1000, sample1002, sample1025, sample102...</td>
      <td>1224</td>
    </tr>
    <tr>
      <th>4</th>
      <td>GG</td>
      <td>CT</td>
      <td>[sample1264, sample1359, sample1960, sample220...</td>
      <td>26</td>
    </tr>
    <tr>
      <th>5</th>
      <td>GG</td>
      <td>NA</td>
      <td>[sample1378, sample1496, sample2247, sample391...</td>
      <td>8</td>
    </tr>
    <tr>
      <th>6</th>
      <td>GG</td>
      <td>TT</td>
      <td>[sample1, sample10, sample100, sample1001, sam...</td>
      <td>8465</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can query multiple genotypes by passing in keyword arguments or a dictionary</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">query_result_1</span> <span class="o">=</span> <span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">,</span> <span class="s2">&quot;rs1014626&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">rs77948203</span><span class="o">=</span> <span class="s1">&#39;AG&#39;</span><span class="p">,</span> <span class="n">rs1014626</span><span class="o">=</span> <span class="s1">&#39;TT&#39;</span><span class="p">)</span>
<span class="n">query_result_1</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs77948203</th>
      <th>rs1014626</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>AG</td>
      <td>TT</td>
      <td>[sample1000, sample1002, sample1025, sample102...</td>
      <td>1224</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">query_result_2</span> <span class="o">=</span> <span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">,</span> <span class="s2">&quot;rs1014626&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">:</span> <span class="s1">&#39;AG&#39;</span><span class="p">,</span> <span class="s2">&quot;rs1014626&quot;</span><span class="p">:</span> <span class="s1">&#39;TT&#39;</span><span class="p">})</span>
<span class="n">query_result_2</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs77948203</th>
      <th>rs1014626</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>AG</td>
      <td>TT</td>
      <td>[sample1000, sample1002, sample1025, sample102...</td>
      <td>1224</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">query_result_1</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">query_result_2</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Querying an unknown rsid will lead to an error</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExceptionExpected</span><span class="p">(</span><span class="n">ex</span><span class="o">=</span><span class="ne">ValueError</span><span class="p">,</span> <span class="n">regex</span> <span class="o">=</span> <span class="s2">&quot;Some Rsid are not in the dataframe&quot;</span><span class="p">):</span><span class="n">test_rsid_info_obj</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">rs7794820</span><span class="o">=</span><span class="s1">&#39;AA&#39;</span><span class="p">)</span> <span class="c1">#missing the last digit of rsid</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">rs77948203</span><span class="o">=</span><span class="s1">&#39;NA&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">empty</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>True</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You can choose to return a simple dataframe, or an object that has enhanced capabilities</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs1014626&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs1014626</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CT</td>
      <td>[sample1264, sample1359, sample1960, sample220...</td>
      <td>28</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NA</td>
      <td>[sample1378, sample1496, sample2247, sample297...</td>
      <td>9</td>
    </tr>
    <tr>
      <th>2</th>
      <td>TT</td>
      <td>[sample1, sample10, sample100, sample1000, sam...</td>
      <td>9735</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs1014626&quot;</span><span class="p">],</span> <span class="n">as_df</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs1014626</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>CT</td>
      <td>[sample1264, sample1359, sample1960, sample220...</td>
      <td>28</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NA</td>
      <td>[sample1378, sample1496, sample2247, sample297...</td>
      <td>9</td>
    </tr>
    <tr>
      <th>2</th>
      <td>TT</td>
      <td>[sample1, sample10, sample100, sample1000, sam...</td>
      <td>9735</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs1014626&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">equals</span><span class="p">(</span><span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs1014626&quot;</span><span class="p">],</span> <span class="n">as_df</span> <span class="o">=</span> <span class="kc">True</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_geno_combination_df</span> <span class="o">=</span> <span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">,</span> <span class="s2">&quot;rs1014626&quot;</span><span class="p">])</span>
<span class="n">test_geno_combination_df</span><span class="o">.</span><span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs77948203</th>
      <th>rs1014626</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AA</td>
      <td>TT</td>
      <td>[sample1445, sample1545, sample2271, sample237...</td>
      <td>46</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AG</td>
      <td>CT</td>
      <td>[sample5663, sample5840]</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AG</td>
      <td>NA</td>
      <td>[sample297]</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AG</td>
      <td>TT</td>
      <td>[sample1000, sample1002, sample1025, sample102...</td>
      <td>1224</td>
    </tr>
    <tr>
      <th>4</th>
      <td>GG</td>
      <td>CT</td>
      <td>[sample1264, sample1359, sample1960, sample220...</td>
      <td>26</td>
    </tr>
    <tr>
      <th>5</th>
      <td>GG</td>
      <td>NA</td>
      <td>[sample1378, sample1496, sample2247, sample391...</td>
      <td>8</td>
    </tr>
    <tr>
      <th>6</th>
      <td>GG</td>
      <td>TT</td>
      <td>[sample1, sample10, sample100, sample1001, sam...</td>
      <td>8465</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_geno_combination_df</span><span class="o">.</span><span class="n">num_samples_NA</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>9</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">NA_samples_df</span> <span class="o">=</span> <span class="n">test_geno_combination_df</span><span class="o">.</span><span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[(</span><span class="n">test_geno_combination_df</span><span class="o">.</span><span class="n">df</span><span class="p">[[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">,</span> <span class="s2">&quot;rs1014626&quot;</span><span class="p">]]</span> <span class="o">==</span> <span class="s2">&quot;NA&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">any</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)]</span>
<span class="n">NA_samples_df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs77948203</th>
      <th>rs1014626</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>AG</td>
      <td>NA</td>
      <td>[sample297]</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>GG</td>
      <td>NA</td>
      <td>[sample1378, sample1496, sample2247, sample391...</td>
      <td>8</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">test_geno_combination_df</span><span class="o">.</span><span class="n">num_samples_NA</span> <span class="o">==</span> <span class="n">NA_samples_df</span><span class="p">[</span><span class="s2">&quot;unique_samples_count&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">==</span> <span class="mi">9</span>
<span class="k">assert</span> <span class="n">test_geno_combination_df</span><span class="o">.</span><span class="n">total_samples_with_NA</span> <span class="o">==</span> <span class="mi">9772</span>
<span class="k">assert</span> <span class="n">test_geno_combination_df</span><span class="o">.</span><span class="n">total_samples_no_NA</span> <span class="o">==</span> <span class="mi">9763</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">get_geno_combination_df</span><span class="p">(</span><span class="n">geno_each_sample</span><span class="p">,[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">,</span> <span class="s2">&quot;rs1014626&quot;</span><span class="p">,</span> <span class="s2">&quot;rs134490&quot;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rs77948203</th>
      <th>rs1014626</th>
      <th>rs134490</th>
      <th>unique_samples_id</th>
      <th>unique_samples_count</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AA</td>
      <td>TT</td>
      <td>CT</td>
      <td>[sample1445, sample1545, sample2271, sample281...</td>
      <td>13</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AA</td>
      <td>TT</td>
      <td>NA</td>
      <td>[sample525, sample7180, sample926, sample9293]</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AA</td>
      <td>TT</td>
      <td>TT</td>
      <td>[sample2376, sample2519, sample2963, sample311...</td>
      <td>29</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AG</td>
      <td>CT</td>
      <td>CT</td>
      <td>[sample5663]</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>AG</td>
      <td>CT</td>
      <td>NA</td>
      <td>[sample5840]</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>AG</td>
      <td>NA</td>
      <td>CT</td>
      <td>[sample297]</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>AG</td>
      <td>TT</td>
      <td>CC</td>
      <td>[sample1747, sample1957, sample2090, sample216...</td>
      <td>24</td>
    </tr>
    <tr>
      <th>7</th>
      <td>AG</td>
      <td>TT</td>
      <td>CT</td>
      <td>[sample1000, sample1002, sample1040, sample104...</td>
      <td>312</td>
    </tr>
    <tr>
      <th>8</th>
      <td>AG</td>
      <td>TT</td>
      <td>NA</td>
      <td>[sample1035, sample1094, sample1098, sample110...</td>
      <td>157</td>
    </tr>
    <tr>
      <th>9</th>
      <td>AG</td>
      <td>TT</td>
      <td>TT</td>
      <td>[sample1025, sample1028, sample1038, sample104...</td>
      <td>731</td>
    </tr>
    <tr>
      <th>10</th>
      <td>GG</td>
      <td>CT</td>
      <td>CT</td>
      <td>[sample1264, sample1359, sample3998, sample478...</td>
      <td>7</td>
    </tr>
    <tr>
      <th>11</th>
      <td>GG</td>
      <td>CT</td>
      <td>NA</td>
      <td>[sample4172, sample4600, sample7605, sample878...</td>
      <td>5</td>
    </tr>
    <tr>
      <th>12</th>
      <td>GG</td>
      <td>CT</td>
      <td>TT</td>
      <td>[sample1960, sample2205, sample2993, sample362...</td>
      <td>14</td>
    </tr>
    <tr>
      <th>13</th>
      <td>GG</td>
      <td>NA</td>
      <td>CT</td>
      <td>[sample2247, sample6641, sample7737]</td>
      <td>3</td>
    </tr>
    <tr>
      <th>14</th>
      <td>GG</td>
      <td>NA</td>
      <td>NA</td>
      <td>[sample1496, sample391]</td>
      <td>2</td>
    </tr>
    <tr>
      <th>15</th>
      <td>GG</td>
      <td>NA</td>
      <td>TT</td>
      <td>[sample1378, sample4893, sample5142]</td>
      <td>3</td>
    </tr>
    <tr>
      <th>16</th>
      <td>GG</td>
      <td>TT</td>
      <td>CC</td>
      <td>[sample1003, sample1062, sample1311, sample139...</td>
      <td>220</td>
    </tr>
    <tr>
      <th>17</th>
      <td>GG</td>
      <td>TT</td>
      <td>CT</td>
      <td>[sample1001, sample1005, sample1014, sample102...</td>
      <td>1962</td>
    </tr>
    <tr>
      <th>18</th>
      <td>GG</td>
      <td>TT</td>
      <td>NA</td>
      <td>[sample1, sample1012, sample1018, sample102, s...</td>
      <td>1226</td>
    </tr>
    <tr>
      <th>19</th>
      <td>GG</td>
      <td>TT</td>
      <td>TT</td>
      <td>[sample10, sample100, sample1004, sample1006, ...</td>
      <td>5057</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

