---

title: module name here


keywords: fastai
sidebar: home_sidebar

summary: "API details."
description: "API details."
nb_path: "06_utils.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 06_utils.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/Users/ahoang/Documents/Learning/nbdev_tutorial_2nd_try/.venv/lib/python3.8/site-packages/ipykernel/ipkernel.py:283: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">MissingAttributeError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="k">def</span> <span class="nf">requires</span><span class="p">(</span><span class="o">*</span><span class="n">required_attrs</span><span class="p">):</span>        
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">method</span><span class="p">):</span>

        <span class="nd">@functools</span><span class="o">.</span><span class="n">wraps</span><span class="p">(</span><span class="n">method</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">inner_wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">all</span><span class="p">(</span><span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attr</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">required_attrs</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">MissingAttributeError</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kargs</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">inner_wrapper</span>
    <span class="k">return</span> <span class="n">wrapper</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">genetic_file</span> <span class="o">=</span> <span class="n">test_data_catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;genetic_file&quot;</span><span class="p">)</span>
<span class="n">sample_file</span> <span class="o">=</span> <span class="n">test_data_catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;sample_file&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_data_catalog</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;genetic_file_split_by_chrom&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">_file_path</span><span class="o">.</span><span class="n">full_file_path</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;case&#39;: {1: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr1.gen&#39;),
  2: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr2.gen&#39;),
  3: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr3.gen&#39;),
  4: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr4.gen&#39;),
  5: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr5.gen&#39;),
  6: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr6.gen&#39;),
  7: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr7.gen&#39;),
  8: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr8.gen&#39;),
  9: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr9.gen&#39;),
  10: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr10.gen&#39;),
  11: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr11.gen&#39;),
  12: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr12.gen&#39;),
  13: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr13.gen&#39;),
  14: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr14.gen&#39;),
  15: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr15.gen&#39;),
  16: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr16.gen&#39;),
  17: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr17.gen&#39;),
  18: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr18.gen&#39;),
  19: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr19.gen&#39;),
  20: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr20.gen&#39;),
  21: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr21.gen&#39;),
  22: Path(&#39;data/test_data/gen_file/test_CASE_MS_chr22.gen&#39;)},
 &#39;control&#39;: {1: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr1.gen&#39;),
  2: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr2.gen&#39;),
  3: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr3.gen&#39;),
  4: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr4.gen&#39;),
  5: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr5.gen&#39;),
  6: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr6.gen&#39;),
  7: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr7.gen&#39;),
  8: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr8.gen&#39;),
  9: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr9.gen&#39;),
  10: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr10.gen&#39;),
  11: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr11.gen&#39;),
  12: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr12.gen&#39;),
  13: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr13.gen&#39;),
  14: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr14.gen&#39;),
  15: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr15.gen&#39;),
  16: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr16.gen&#39;),
  17: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr17.gen&#39;),
  18: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr18.gen&#39;),
  19: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr19.gen&#39;),
  20: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr20.gen&#39;),
  21: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr21.gen&#39;),
  22: Path(&#39;data/test_data/gen_file/test_CONTROL_MS_chr22.gen&#39;)}}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">vars</span><span class="p">(</span><span class="n">sample_file</span><span class="o">.</span><span class="n">files</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;case&#39;: SampleFileFormat(filepath=Path(&#39;data/test_data/sample_file/MS_impute2_ALL_sample_out.tsv&#39;), pandas_args={&#39;sep&#39;: &#39; &#39;, &#39;skiprows&#39;: [1]}, sample_id_col=&#39;ID_2&#39;, cov_cols=[&#39;sex&#39;], missing_col=&#39;missing&#39;),
 &#39;control&#39;: SampleFileFormat(filepath=Path(&#39;data/test_data/sample_file/ALL_controls_58C_NBS_WTC2_impute2_sample_out.tsv&#39;), pandas_args={&#39;sep&#39;: &#39; &#39;, &#39;skiprows&#39;: [1]}, sample_id_col=&#39;ID_2&#39;, cov_cols=[&#39;sex&#39;], missing_col=&#39;missing&#39;)}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sample_file</span><span class="o">.</span><span class="n">_file_path</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>CaseControlFilePathSchema(case=SingleFilePathSchema(folder=&#39;data/test_data/sample_file&#39;, full_file_name=&#39;MS_impute2_ALL_sample_out.tsv&#39;, file_name=&#39;MS_impute2_ALL_sample_out&#39;, extension=&#39;tsv&#39;, split_by_chromosome=None), control=SingleFilePathSchema(folder=&#39;data/test_data/sample_file&#39;, full_file_name=&#39;ALL_controls_58C_NBS_WTC2_impute2_sample_out.tsv&#39;, file_name=&#39;ALL_controls_58C_NBS_WTC2_impute2_sample_out&#39;, extension=&#39;tsv&#39;, split_by_chromosome=None))</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sample_file</span><span class="o">.</span><span class="n">files</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">genetic_file</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">[</span><span class="s2">&quot;case&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sample_ids</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">genetic_file</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">case</span><span class="o">.</span><span class="n">sample_ids</span> <span class="o">=</span> <span class="n">sample_file</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">case</span><span class="o">.</span><span class="n">load</span><span class="p">()</span><span class="o">.</span><span class="n">index</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">genetic_file</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">case</span><span class="o">.</span><span class="n">sample_ids</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;WTCCCT473540&#39;, &#39;WTCCCT473530&#39;, &#39;WTCCCT473555&#39;, &#39;WTCCCT473426&#39;,
       &#39;WTCCCT473489&#39;, &#39;WTCCCT473456&#39;, &#39;WTCCCT473435&#39;, &#39;WTCCCT473522&#39;,
       &#39;WTCCCT473500&#39;, &#39;WTCCCT473537&#39;,
       ...
       &#39;WTCCCT466427&#39;, &#39;WTCCCT449701&#39;, &#39;WTCCCT449713&#39;, &#39;WTCCCT449725&#39;,
       &#39;WTCCCT473041&#39;, &#39;WTCCCT473455&#39;, &#39;WTCCCT473479&#39;, &#39;WTCCCT473432&#39;,
       &#39;WTCCCT473465&#39;, &#39;WTCCCT473421&#39;],
      dtype=&#39;object&#39;, name=&#39;ID_2&#39;, length=9772)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">genetic_file</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">case</span><span class="o">.</span><span class="n">get_rsid_df</span><span class="p">(</span><span class="n">rsid_list</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;rs77948203&quot;</span><span class="p">,</span> <span class="s2">&quot;rs1014626&quot;</span><span class="p">,</span> <span class="s2">&quot;rs134490&quot;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>dashes</th>
      <th>rsid</th>
      <th>position</th>
      <th>ref</th>
      <th>alt</th>
      <th>WTCCCT473540_1</th>
      <th>WTCCCT473540_2</th>
      <th>WTCCCT473540_3</th>
      <th>WTCCCT473530_1</th>
      <th>WTCCCT473530_2</th>
      <th>...</th>
      <th>WTCCCT473479_3</th>
      <th>WTCCCT473432_1</th>
      <th>WTCCCT473432_2</th>
      <th>WTCCCT473432_3</th>
      <th>WTCCCT473465_1</th>
      <th>WTCCCT473465_2</th>
      <th>WTCCCT473465_3</th>
      <th>WTCCCT473421_1</th>
      <th>WTCCCT473421_2</th>
      <th>WTCCCT473421_3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>---</td>
      <td>rs77948203</td>
      <td>21249165</td>
      <td>G</td>
      <td>A</td>
      <td>1</td>
      <td>0.000</td>
      <td>0.000</td>
      <td>1</td>
      <td>0.000</td>
      <td>...</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0.000</td>
      <td>0.000</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>---</td>
      <td>rs1014626</td>
      <td>21461017</td>
      <td>C</td>
      <td>T</td>
      <td>0</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>0</td>
      <td>0.000</td>
      <td>...</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0.000</td>
      <td>1.000</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>---</td>
      <td>rs134490</td>
      <td>28730175</td>
      <td>C</td>
      <td>T</td>
      <td>0</td>
      <td>0.232</td>
      <td>0.768</td>
      <td>0</td>
      <td>0.014</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0.356</td>
      <td>0.644</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>3 rows × 29321 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sample_file</span><span class="o">.</span><span class="n">files</span><span class="o">.</span><span class="n">case</span><span class="o">.</span><span class="n">load</span><span class="p">()</span><span class="o">.</span><span class="n">index</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Index([&#39;WTCCCT473540&#39;, &#39;WTCCCT473530&#39;, &#39;WTCCCT473555&#39;, &#39;WTCCCT473426&#39;,
       &#39;WTCCCT473489&#39;, &#39;WTCCCT473456&#39;, &#39;WTCCCT473435&#39;, &#39;WTCCCT473522&#39;,
       &#39;WTCCCT473500&#39;, &#39;WTCCCT473537&#39;,
       ...
       &#39;WTCCCT466427&#39;, &#39;WTCCCT449701&#39;, &#39;WTCCCT449713&#39;, &#39;WTCCCT449725&#39;,
       &#39;WTCCCT473041&#39;, &#39;WTCCCT473455&#39;, &#39;WTCCCT473479&#39;, &#39;WTCCCT473432&#39;,
       &#39;WTCCCT473465&#39;, &#39;WTCCCT473421&#39;],
      dtype=&#39;object&#39;, name=&#39;ID_2&#39;, length=9772)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

